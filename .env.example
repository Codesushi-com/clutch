# ============================================
# OpenClutch Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values.
# Variables marked (required) must be set for the app to function.
# Variables marked (optional) have sensible defaults.

# ============================================
# OpenClaw Connection (server-side)
# ============================================

# OpenClaw gateway HTTP URL (required)
OPENCLAW_HOST=127.0.0.1

# OpenClaw gateway port (optional, default: 18789)
OPENCLAW_PORT=18789

# OpenClaw API token for server-side RPC calls (required)
OPENCLAW_TOKEN=your-openclaw-token-here

# OpenClaw WebSocket URL for real-time session data (required)
OPENCLAW_WS_URL=ws://127.0.0.1:18789

# GitHub App token for PR operations (optional — falls back to GH_TOKEN)
GITHUB_APP_TOKEN=
GH_TOKEN=

# ============================================
# OpenClaw Connection (client-side / browser)
# ============================================

# Public OpenClaw HTTP URL for browser API calls (required)
NEXT_PUBLIC_OPENCLAW_HTTP_URL=http://127.0.0.1:18789

# Public OpenClaw API URL — alias used by some components (required)
NEXT_PUBLIC_OPENCLAW_API_URL=http://127.0.0.1:18789

# Public OpenClaw token for browser auth (required)
NEXT_PUBLIC_OPENCLAW_TOKEN=your-openclaw-token-here

# ============================================
# Convex (self-hosted)
# ============================================

# Convex self-hosted backend URL (required)
CONVEX_SELF_HOSTED_URL=http://127.0.0.1:3210

# Convex deployment URL — used by the Convex client (required)
CONVEX_URL=http://127.0.0.1:3210

# Public Convex URL for browser client (required)
NEXT_PUBLIC_CONVEX_URL=http://127.0.0.1:3210

# Public Convex self-hosted URL for browser client (required)
NEXT_PUBLIC_CONVEX_SELF_HOSTED_URL=http://127.0.0.1:3210

# ============================================
# Work Loop (agent orchestration)
# ============================================

# Enable/disable the automated work loop (optional, default: false)
WORK_LOOP_ENABLED=false

# Cycle interval in milliseconds (optional, default: 30000)
WORK_LOOP_CYCLE_MS=30000

# Maximum total concurrent agents across all projects (optional, default: 6)
WORK_LOOP_MAX_AGENTS=6

# Maximum agents per project (optional, default: 4)
WORK_LOOP_MAX_AGENTS_PER_PROJECT=4

# Maximum concurrent dev agents (optional, default: 4)
WORK_LOOP_MAX_DEV_AGENTS=4

# Maximum concurrent reviewer agents (optional, default: 3)
WORK_LOOP_MAX_REVIEWER_AGENTS=3

# Maximum concurrent conflict resolver agents (optional, default: 1)
WORK_LOOP_MAX_CONFLICT_RESOLVER_AGENTS=1

# Minutes before a task is considered stale/stuck (optional, default: 7)
WORK_LOOP_STALE_TASK_MINUTES=7

# Minutes before a review is considered stale (optional, default: 7)
WORK_LOOP_STALE_REVIEW_MINUTES=7

# ============================================
# Server
# ============================================

# Port for the Next.js server (optional, default: 3000)
PORT=3002

# Public app URL — used for links and callbacks (optional)
NEXT_PUBLIC_APP_URL=http://localhost:3002
